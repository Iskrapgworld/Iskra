<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>üî• –ò–°–ö–†–ê: –ë–∏—Ç–≤–∞ v1.4 üî•</title>
  <style>
    body { margin: 0; background: #111; color: #fff; font-family: sans-serif; text-align: center; }
    h1 { color: #ffa500; margin: 10px 0; }
    #topBar { display: flex; justify-content: space-between; align-items: center; padding: 5px 10px; font-size: 14px; }
    #timerBarContainer { flex-grow: 1; height: 10px; margin: 0 10px; background: #444; border-radius: 5px; overflow: hidden; }
    #timerBar { height: 100%; width: 100%; background: linear-gradient(90deg, #33ff33, #ffff00); transition: width 1s linear; }
    #battleLog { margin: 5px; padding: 4px; font-size: 16px; min-height: 32px; }
    #board { display: grid; grid-template-columns: repeat(6, 1fr); gap: 4px; width: 360px; margin: 30px auto 10px auto; transition: opacity 0.3s ease; }
    .cell { width: 58px; height: 58px; border-radius: 50%; transition: transform 0.3s ease, opacity 1s ease; }
    .red    { background: radial-gradient(circle, #ff4d4d, #990000); }
    .green  { background: radial-gradient(circle, #66ff66, #006600); }
    .blue   { background: radial-gradient(circle, #66ccff, #003366); }
    .purple { background: radial-gradient(circle, #dca0ff, #440066); }
    .orange { background: radial-gradient(circle, #cc9955, #cc6600); }
    .highlight { box-shadow: 0 0 10px 4px #ffffff88; }
    .fade { opacity: 0; }
    .enemy-turn #board { pointer-events: none; opacity: 0.2; }
    #overlay, #endScreen, #mainMenu, #characterMenu {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.9); display: flex; justify-content: center; align-items: center; flex-direction: column; z-index: 999;
    }
    #mainMenu, #characterMenu { display: none; }
    .floatText { position: absolute; font-size: 14px; font-weight: bold; pointer-events: none; animation: floatUp 1s ease forwards; }
    @keyframes floatUp { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-30px); } }
    #overlay input {
      padding: 10px; font-size: 16px; border-radius: 5px; border: none; margin-top: 10px;
    }
    .menu-btn, button { padding: 10px 20px; margin-top: 10px; font-size: 16px; border: none; border-radius: 10px; background: #6622cc; color: white; }
    #lightningButton { margin: 10px auto; display: none; background: #ffcc00; color: #000; }
    .login-box { background: #24123b; border-radius: 24px; box-shadow: 0 0 40px #000a; padding: 40px 24px 28px 24px; display: flex; flex-direction: column; align-items: center; min-width: 310px; }
    .login-box h2 { margin: 0 0 18px 0; color: #fff; font-size: 2em; font-weight: 700; letter-spacing: 1px; }
    .login-input { margin-bottom: 14px; width: 210px; padding: 12px; font-size: 1.13em; border: none; border-radius: 7px; background: #181826; color: #fff; outline: none; box-shadow: 0 1px 0 #3c2d57 inset; }
    .login-btn { background: #892fff; color: #fff; border: none; border-radius: 11px; padding: 12px 38px; font-size: 1.25em; font-weight: 700; margin-top: 8px; cursor: pointer; box-shadow: 0 2px 16px #3400af70; transition: background .16s; }
    .login-btn:active { background: #5d19b8; }
  </style>
</head>
<body>
  <h1>üî• –ò–°–ö–†–ê: –ë–∏—Ç–≤–∞ v1.4 üî•</h1>
  <div id="topBar">
    <div>–í—ã:<br>‚ù§Ô∏è <span id="hp">200</span> <span id="healText"></span><br>üõ° <span id="shield">100</span> <span id="defText"></span><br>üîÆ <span id="mana">0</span></div>
    <div id="timerBarContainer"><div id="timerBar"></div></div>
    <div>–ú–æ–Ω—Å—Ç—Ä:<br>üíÄ <span id="enemyHp">100</span> <span id="enemyHealText"></span><br>üõ° <span id="enemyShield">100</span> <span id="enemyDefText"></span><br>üîÆ <span id="enemyMana">0</span></div>
  </div>
  <div id="battleLog">–ö–æ–º–±–æ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...</div>
  <div id="board"></div>
  <button id="lightningButton" onclick="useLightning()">‚ö° –ú–æ–ª–Ω–∏—è (20 –º–∞–Ω—ã)</button>
  <div id="overlay">
    <form class="login-box" id="nameForm" autocomplete="off">
      <h2>–í–≤–µ–¥–∏—Ç–µ –∏–º—è:</h2>
      <input class="login-input" id="nickname" placeholder="–ò–º—è –∏–≥—Ä–æ–∫–∞" required maxlength="18" autofocus>
      <button class="login-btn" id="goBtn" type="submit">–î–∞–ª–µ–µ</button>
    </form>
  </div>
  <div id="mainMenu">
    <h2>–ú–µ–Ω—é</h2>
    <button class="menu-btn" onclick="startGame()">–í –±–æ–π!</button>
    <button class="menu-btn" onclick="showCharacterMenu()">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
  </div>
  <div id="characterMenu">
    <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h2>
    <div>–û–ø—ã—Ç: <span id="xp">0</span> | –û—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤: <span id="skillPoints">0</span></div>
    <div>–°–∏–ª–∞: <span id="str">1</span> <button onclick="upgrade('str')">+</button></div>
    <div>–õ–æ–≤–∫–æ—Å—Ç—å: <span id="agi">1</span> <button onclick="upgrade('agi')">+</button></div>
    <div>–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç: <span id="int">1</span> <button onclick="upgrade('int')">+</button></div>
    <div>–ñ–∏–≤—É—á–µ—Å—Ç—å: <span id="vit">1</span> <button onclick="upgrade('vit')">+</button></div>
    <div>–£–¥–∞—á–∞: <span id="luck">1</span> <button onclick="upgrade('luck')">+</button></div>
    <button onclick="backToMenu()">–ù–∞–∑–∞–¥</button>
  </div>
  <div id="endScreen" style="display:none;">
    <h2 id="endMessage">–ü–æ–±–µ–¥–∞!</h2>
    <button onclick="showMainMenu()">–í –º–µ–Ω—é</button>
  </div>
  <script>
    // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è overlay!
    document.getElementById("nameForm").addEventListener("submit", function(e) {
      e.preventDefault();
      document.getElementById("overlay").style.display = "none";
      document.getElementById("mainMenu").style.display = "flex";
    });

    // --- –í–°–Ø –û–°–¢–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê (–∫–æ–ø–∏—Ä—É–π —Å–≤–æ–π —Ä–∞–±–æ—á–∏–π –∫–æ–¥ –æ—Ç—Å—é–¥–∞!) ---
    // ...–í—Å—Ç–∞–≤–ª—è–π –æ—Å—Ç–∞–ª—å–Ω–æ–π JS (–±–æ–µ–≤–∫–∞, –≥—Ä–∏–¥, –∞–Ω–∏–º–∞—Ü–∏–∏, —Å—Ç–∞—Ç—ã, —Ç.–¥.)...
    // –ï—Å–ª–∏ –Ω—É–∂–µ–Ω ‚Äî –≤—Å—Ç–∞–≤–ª—é —Å—é–¥–∞ –≤—Å—é —Ç–≤–æ—é —Ä–∞–±–æ—á—É—é –±–æ–µ–≤—É—é —á–∞—Å—Ç—å.
  </script>
</body>
</html>
