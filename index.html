<!DOCTYPE html><html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–®–∞—Ö—Ç–∞ –ò—Å–∫—Ä—ã</title>
  <style>
    body {
      background: #111;
      color: white;
      font-family: sans-serif;
      text-align: center;
      margin: 0;
    }
    h1 {
      margin: 10px;
      color: #ffaa00;
    }
    #board {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 4px;
      width: 360px;
      margin: 20px auto;
    }
    .cell {
      width: 58px;
      height: 58px;
      border-radius: 10px;
    }
    .red    { background: radial-gradient(circle, #ff4d4d, #990000); }
    .green  { background: radial-gradient(circle, #66ff66, #006600); }
    .blue   { background: radial-gradient(circle, #66ccff, #003366); }
    .purple { background: radial-gradient(circle, #dca0ff, #440066); }
    .orange { background: radial-gradient(circle, #cc9955, #cc6600); }#inventory {
  margin-top: 10px;
  font-size: 18px;
}

  </style>
</head>
<body>
  <h1>‚õè –®–∞—Ö—Ç–∞ –ò—Å–∫—Ä—ã</h1>
  <div id="board"></div>
  <div id="inventory">üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: ü™® x0   üíé x0   ü™ô x0</div>  <script>
    const board = document.getElementById("board");
    const inventoryEl = document.getElementById("inventory");

    const colors = ['red', 'green', 'blue', 'purple', 'orange'];
    let grid = [];
    let dragging = null;

    let inventory = {
      metal: 0,
      crystal: 0,
      gold: 0
    };

    function createBoard() {
      board.innerHTML = "";
      grid = [];
      for (let i = 0; i < 36; i++) {
        const cell = document.createElement("div");
        const color = colors[Math.floor(Math.random() * colors.length)];
        cell.className = `cell ${color}`;
        board.appendChild(cell);
        grid.push(cell);
      }
    }

    function getColor(el) {
      return colors.find(c => el.classList.contains(c));
    }

    function checkMatches() {
      const matches = [];
      for (let r = 0; r < 6; r++) {
        for (let c = 0; c < 4; c++) {
          let i = r * 6 + c;
          let a = grid[i], b = grid[i + 1], c_ = grid[i + 2];
          if (getColor(a) === getColor(b) && getColor(b) === getColor(c_))
            matches.push([i, i + 1, i + 2]);
        }
      }
      for (let c = 0; c < 6; c++) {
        for (let r = 0; r < 4; r++) {
          let i = r * 6 + c;
          let a = grid[i], b = grid[i + 6], c_ = grid[i + 12];
          if (getColor(a) === getColor(b) && getColor(b) === getColor(c_))
            matches.push([i, i + 6, i + 12]);
        }
      }
      return matches;
    }

    function applyMatchRewards(matches) {
      let addedMetal = 0;
      let addedCrystal = 0;
      let addedGold = 0;

      for (let group of matches) {
        const color = getColor(grid[group[0]]);
        if (color === 'red' && Math.random() < 0.4) addedMetal++;
        if ((color === 'purple' || color === 'orange') && Math.random() < 0.3) addedCrystal++;
        if (Math.random() < 0.05) addedGold++;
      }

      inventory.metal += addedMetal;
      inventory.crystal += addedCrystal;
      inventory.gold += addedGold;

      updateInventory();
    }

    function updateInventory() {
      inventoryEl.textContent = `üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: ü™® x${inventory.metal}   üíé x${inventory.crystal}   ü™ô x${inventory.gold}`;
    }

    board.addEventListener("mousedown", e => {
      if (e.target.classList.contains("cell")) dragging = e.target;
    });
    board.addEventListener("mousemove", e => {
      if (dragging && e.target.classList.contains("cell") && e.target !== dragging) {
        [dragging.className, e.target.className] = [e.target.className, dragging.className];
        dragging = null;
        const matches = checkMatches();
        if (matches.length > 0) {
          applyMatchRewards(matches);
        }
      }
    });
    board.addEventListener("mouseup", () => dragging = null);

    createBoard();
  </script></body>
</html>
